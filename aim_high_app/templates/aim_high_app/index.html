<!-- aim_high_app/templates/aim_high_app/index.html -->

{% extends "aim_high_app/base.html" %}

{% block content %}
<div class="go-back">
    <a href="#" id="back-to-class">&larr; Go back to the Class</a>
</div>

<div class="app-container">
    <div class="summary-panel">
        <h2>Summarization Assignment</h2>
        
        <div class="accordion-container">
            <!-- Learning Material Section -->
            <div class="accordion-item active" id="learning-material-section">
                <div class="accordion-header">
                    <div class="accordion-icon">
                        <span class="checkmark">✓</span>
                    </div>
                    <h3>Learning Material</h3>
                    <button class="accordion-toggle">▼</button>
                </div>
                <div class="accordion-content" style="display: block;">
                    <div id="material-input-form">
                        <h4>3.4 Unique Characteristics of Eukaryotic Cells</h4>
                        <div class="input-group">
                            <label for="material-url">Enter URL to content:</label>
                            <input type="url" id="material-url" placeholder="https://example.com/article">
                        </div>
                        <div class="input-group">
                            <label for="material-content">Or paste content directly:</label>
                            <textarea id="material-content" rows="6" placeholder="Paste your learning material here..."></textarea>
                        </div>
                        <button id="submit-material" class="primary-button">Submit Material</button>
                    </div>
                    
                    <div id="material-preview" class="hidden">
                        <h4 id="material-title">3.4 Unique Characteristics of Eukaryotic Cells</h4>
                        <div id="material-content-preview" class="content-preview"></div>
                        <div class="button-group">
                            <button id="edit-material" class="secondary-button">Edit</button>
                            <button id="confirm-material" class="primary-button">Confirm</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Write Summary Section -->
            <div class="accordion-item" id="write-summary-section">
                <div class="accordion-header">
                    <div class="accordion-icon">
                        <span class="checkmark">✓</span>
                    </div>
                    <h3>Write your Summary</h3>
                    <button class="accordion-toggle">▼</button>
                </div>
                <div class="accordion-content">
                    <div id="summary-form">
                        <div class="input-group">
                            <textarea id="summary-content" rows="8" placeholder="Write your summary here..."></textarea>
                        </div>
                        <div class="button-group">
                            <button id="generate-summary" class="secondary-button">Generate Summary</button>
                            <button id="save-summary" class="primary-button">Save</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Feedback Section -->
            <div class="accordion-item" id="feedback-section">
                <div class="accordion-header">
                    <div class="accordion-icon">
                        <span class="checkmark">✓</span>
                    </div>
                    <h3>Feedback on Your Summary (Version from 02/15/2025 at 09:25:35 PM)</h3>
                    <button class="accordion-toggle">▼</button>
                </div>
                <div class="accordion-content">
                    <div class="progress-container">
                        <div class="progress-label">Progress</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 7%;"></div>
                        </div>
                        <div class="progress-percentage">7%</div>
                    </div>
                    
                    <div id="knowledge-map-container">
                        <h4>Your Knowledge Map</h4>
                        <div id="knowledge-map" class="knowledge-map" style="width: 100%; height: 300px;"></div>
                    </div>
                    
                    <div id="missing-concepts-container">
                        <h4>Missing Concepts</h4>
                        <div class="concept-grid" id="missing-concepts-grid">
                            <!-- Missing concepts will be added dynamically -->
                        </div>
                    </div>
                    
                    <div id="scores-feedback-container">
                        <h4>Specific Scores and Feedback</h4>
                        <div class="feedback-item">
                            <div class="feedback-header">
                                <span>Content Quality:</span>
                                <div class="star-rating">
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star filled">★</span>
                                    <span class="star">★</span>
                                    <span class="star">★</span>
                                </div>
                            </div>
                            <div class="feedback-description">
                                <p>Evaluates the accuracy, completeness, and clarity of the summary. A high quality summary captures key ideas concisely, maintains factual accuracy, and presents information logically without unnecessary details or omissions.</p>
                                <div class="improvement-tips">
                                    <h5>How To Improve:</h5>
                                    <p>Your summary captures some key points but lacks completeness and clarity. Important details are missing, making it difficult to grasp the main ideas fully. To improve, ensure all key concepts are included and clearly explained.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="chat-panel">
        <div class="chat-header">
            <h2>Conversation with Jordan</h2>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <!-- Chat messages will be added dynamically -->
        </div>
        
        <div class="chat-input-container">
            <input type="text" id="chat-input" placeholder="Type your message...">
            <button id="send-message" class="send-button">Send</button>
            <button id="voice-input" class="voice-button">Voice</button>
        </div>
    </div>
</div>
{% endblock %}